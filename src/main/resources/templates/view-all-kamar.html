<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title th:replace = "fragments/fragment :: headerFragment (pageTitle='Kamar: View All')"></title>
    <object th:include="fragments/fragment :: css" th:remove="tag"></object>
    <object th:include="fragments/fragment :: js" th:remove="tag"></object>
	<script th:src = "@{/js/jquery-3.3.1.min.js}"></script>
	
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
 	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
</head>

<body  style="margin:50;padding:50">
<nav th:replace="fragments/fragment :: navbar"></nav>
	<h3 style="margin-top:20px">List Semua Kamar</h3>
	<form th:action="@{/kamar/insert}" method ="GET">
		<button type="submit" class="btn btn-primary">Tambah Kamar</button>
	</form>
	<br>
	<table id="table" class="table table-striped table-bordered table-sm display" >
		<thead>
			<th>Nomor Kamar</th>
			<th>Paviliun</th>
			<th>Status</th>
			<th>Detail</th>
		</thead>
		<span th:each="kamar : ${allKamar}">
			<tr>
				<td th:text="${kamar.paviliunKamar.namaPaviliun} + ' - ' + ${kamar.id}"></td>
				<td th:text="${kamar.paviliunKamar.namaPaviliun}"></td>
				<td>
					<span th:if="${kamar.paviliunKamar.status == 1}">
						<div th:switch="${kamar.status}">
						  <p th:case="1">Kamar Terisi</p>
						  <p th:case="0">Tersedia</p>
						</div>
					</span>
					<span th:unless="${kamar.paviliunKamar.status == 1}">
						<p>Kamar Rusak</p>					
					</span>
				</td>
				<td><a th:href="'/kamar/' + ${kamar.id}" class="btn btn-primary">Detail Kamar</a></td>
			</tr>
		</span>
	</table>
</body>

<script>
	$(document).ready( function () {
	    var table = $('#table').DataTable();
	} );
</script>

</html>