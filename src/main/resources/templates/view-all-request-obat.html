<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title th:replace = "fragments/fragment :: headerFragment (pageTitle='Jadwal Jaga: View All')"></title>
	<object th:include = "fragments/fragment :: css" th:remove="tag"></object>
	<object th:include = "fragments/fragment :: js" th:remove="tag"></object>
	<object th:include="fragments/fragment :: fonts"></object>
	<script th:src = "@{/js/jquery-3.3.1.min.js}"></script>
	
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
 	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
	<!--
	<link rel="stylesheet" th:href="@{/DataTables/datatables.css}">
	<script th:src="@{/DataTables/datatables.js}"></script>
	-->
</head>

<body>
	<nav th:replace="fragments/fragment :: navbar"></nav>
	<br>
	<div style="margin-left:2rem;padding-right:2rem;">
		<h4>Request Obat</h4>
		<span th:if="${listObatToggle}==1">
			<table class="table table-striped table-bordered table-sm display" id="requestObat">
				<thead>
					<tr>
						<th>No.</th>
						<th>Nama Obat</th>
						<th>Jumlah</th>
						<th>Nama Pasien</th>
					</tr>
				</thead>
				<tr th:each="requestObat,iterationStatus : ${allRequestObat}">
					<td th:text="${iterationStatus.count}"></td>
					<td th:text="${requestObat.namaObat}"></td>
	   				<td th:text="${requestObat.jumlah}"></td>
	   				<td th:text="${allPasienReq.get(requestObat.idPasien).nama}"></td>
	   				<td>
	   					<form th:action="@{/obat/request/{requestObatId}(requestObatId=${requestObat.id})}" id="idRequestObat" method="POST">
							<button class="btn btn-primary" type="submit">Kirim Request</button>
						</form>
	   				</td>
				</tr>
			</table>
		</span>
		<span th:if="${listObatToggle}==0">
			<h3>Maaf, Belum Ada Request Obat di dalam Sistem</h3>
		</span>
	</div>
</body>
	<script>
	$(document).ready( function () {
	    $('#requestObat').DataTable();
	} );
	</script>
</html>